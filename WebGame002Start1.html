<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        이상형 월드컵 8강(1/4)
    </title>

    <style>
    div1{
        margin : 10px;
        position : absolute;
        width: 600px;
        height: 80px;
    }
    div2{
        position : absolute;
        margin: 10px;
        width: 200px;
    }
    div3{
        position : absolute;
        margin: 10px;
    }
    div4{
        position : absolute;
        margin: 10px;
    }
    h2{
        position : absolute;
        width : 200px;
        margin : 10px;
        text-align : center;
    }
    </style>
</head>
<body style="background-image: url('임시 바탕화면.png');">

    <div1 style="left: 750px; top: 30px;">
        <h1 style="color: white">이상형 월드컵 8강(1/4)</h1>
    </div1>

    <h2 id="A" style="left: 550px; top: 300px; background-color: rgb(98, 98, 189);">
        임시 텍스트
    </h2>

    <h2 id="B" style="left: 1050px; top: 300px; background-color: rgb(98, 98, 189);">
        임시 텍스트
    </h2>

    <div2 style="top: 0px; right: 0px;">
        <a href="WebGame001Start1.html">
        <input type="submit" value="포기하기" style="font-size: 35px; background-color: rgb(98, 98, 189);">
        </a>
    </div2>
    
    <div2 style="left: 550px; top: 350px;">
        <img src="image0016.png" width="200" height="266px" id = "imagechange12">
    </div2>
    
    <div2 style="left: 1050px; top: 350px;">
        <img src="image0016.png" width="200" height="266px" id = "imagechange34">
    </div2>

    <div3 style="left: 550px; top: 650px;">
        <input type="submit" value="선택하기(1)" height="100px" onclick="CASE100(this)" id = "win1"
        style="font-size: 35px; background-color: rgb(98, 98, 189);"
        onmouseover="this.style='font-size: 35px; background-color: red;'"
        onmouseout="this.style='font-size: 35px; background-color: rgb(98, 98, 189);'">
    </div3>

    <div3 style="left: 1050px; top: 650px;">
        <input type="submit" value="선택하기(2)" height="100px" onclick="CASE101(this)" id = "win2"
        style="font-size: 35px; background-color: rgb(98, 98, 189);"
        onmouseover="this.style='font-size: 35px; background-color: red;'"
        onmouseout="this.style='font-size: 35px; background-color: rgb(98, 98, 189);'">
    </div3>

    <script type="module">
        const $change12 = document.getElementById("imagechange12");//첫 번째 이미지의 이벤트
        const $change34 = document.getElementById("imagechange34");//두 번째 이미지의 이벤트
        const X = document.getElementById("A");
        const Y = document.getElementById("B");
        var A = 1;
        
        const sc1 = localStorage.getItem("img1score");//이전에 기록한 데이터에 있는 정보를 가져온다. 값은 string 형식으로 고정된다.
        const sc3 = localStorage.getItem("img3score");//이 가져온 정보는 후에 다른 

    if(A == 1){
        if(sc1 == '1'){
            $change12.setAttribute("src", "image0001.png");//이전에 기록한 데이터 결과에 따라 다른 이미지가 표현되도록 한다.
            X.innerText = "요시오카 하루"//이것은 캐릭터 사진이 변화할 때 같이 발동되며, 해당 캐릭터의 이름이 표시되도록 한다.
            A = 0;
        }
        else{
            $change12.setAttribute("src", "image0002.png");
            X.innerText = "포뇨"
            A = 0;
        }

        if(sc3 == '1'){
            $change34.setAttribute("src", "image0003.png");
            Y.innerText = "쿠사카베 사츠키"
            A = 0;
        }
        else{
            $change34.setAttribute("src", "image0004.png");
            Y.innerText = "파즈"
            A = 0;
        }
    }

    var score100 = document.getElementById("win1");//앞에서 설명한 것과 같이 버튼을 클릭하면 반영된다.
        score100.addEventListener("click", CASE100);//이벤트 리스너
    
    function CASE100(obj){
    
     if(sc1 == '1'){//위에서 설명한 것과 같이 이전 라운드에서 선택한 결과(= 미리 기록한 내용)에 따라 선택지가 다르게 적용된다.
        localStorage.setItem("img101score",2);//4강에서 쓰일 정보를 미리 기록한다. 다음 라운드에서 이를 앞서 처리한 것처럼 문자열로 반환한다.
        location.href = "WebGame002Start2.html";//다음 화면으로 이동한다.
        }
     else{
        localStorage.setItem("img102score",2);//두 번째 선택지
        location.href = "WebGame002Start2.html";
        }
    }

    var score101 = document.getElementById("win2");
    score101.addEventListener("click", CASE101);
    
    function CASE101(obj){
     if(sc3 == '1'){
        localStorage.setItem("img103score",2);
        location.href = "WebGame002Start2.html";
        }
     else{
        localStorage.setItem("img104score",2);
        location.href = "WebGame002Start2.html";
        }
    }
        </script>
</body>
</html>